{"ast":null,"code":"import _objectSpread from\"/Users/dorudiaconu/Desktop/react-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/dorudiaconu/Desktop/react-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useReducer}from'react';import List from'./List';import Alert from'./Alert';import{reducer}from\"./reducer\";var getLocalStorage=function getLocalStorage(){var list=localStorage.getItem('list');if(list){return JSON.parse(list);}else{return[];}};var defaultState={list:getLocalStorage(),isEditing:false,editId:null,alert:{show:false,msg:'',type:''},areYouSure:false,background:false};function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useReducer=useReducer(reducer,defaultState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var handleSubmit=function handleSubmit(e){e.preventDefault();if(!name){//  display alert\ndispatch({type:'DISPLAY_ALERT'});}if(name&&state.isEditing){// deal with edit\nstate.list=state.list.map(function(item){if(item.id===state.editId){return _objectSpread(_objectSpread({},item),{},{title:name});}return item;});dispatch({type:'SUBMIT_EDIT'});setName('');}if(name&&!state.isEditing){var newItem={id:new Date().getTime().toString(),title:name};dispatch({type:'ADD_ITEM',payload:newItem});setName(function(){return'';});}};var removeAlert=function removeAlert(){dispatch({type:'HIDE_ALERT'});};var removeItem=function removeItem(id){var filterList=state.list.filter(function(item){return item.id!==id;});dispatch({type:'REMOVE_ITEM',payload:filterList});};var editItem=function editItem(id){var editedItem=state.list.find(function(item){return item.id===id;});setName(editedItem.title);var editingId=editedItem.id;console.log(editedItem.title);dispatch({type:'EDIT_ITEM',payload:editingId});};useEffect(function(){localStorage.setItem('list',JSON.stringify(state.list));},[state.list]);return/*#__PURE__*/React.createElement(React.Fragment,null,state.alert.show&&/*#__PURE__*/React.createElement(Alert,Object.assign({},state.alert,{removeAlert:removeAlert,list:state.list})),/*#__PURE__*/React.createElement(\"section\",{className:\"\".concat(state.background?'section-center backdround':'section-center')},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:\"grocery-form\"},/*#__PURE__*/React.createElement(\"h3\",null,\"React Reminder\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control\"},/*#__PURE__*/React.createElement(\"textarea\",{className:'grocery',rows:\"6\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{type:'submit',className:'submit-btn'},state.isEditing?'edit':'submit'))),/*#__PURE__*/React.createElement(\"div\",{className:\"reminder-container\"},/*#__PURE__*/React.createElement(List,{items:state.list,removeItem:removeItem,editItem:editItem}))));}export default App;","map":{"version":3,"sources":["/Users/dorudiaconu/Desktop/react-reminder/src/App.js"],"names":["React","useState","useEffect","useReducer","List","Alert","reducer","getLocalStorage","list","localStorage","getItem","JSON","parse","defaultState","isEditing","editId","alert","show","msg","type","areYouSure","background","App","name","setName","state","dispatch","handleSubmit","e","preventDefault","map","item","id","title","newItem","Date","getTime","toString","payload","removeAlert","removeItem","filterList","filter","editItem","editedItem","find","editingId","console","log","setItem","stringify","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect,useReducer } from 'react'\nimport List from './List'\nimport Alert from './Alert'\nimport {reducer} from \"./reducer\";\n\nconst getLocalStorage = () => {\n  let list = localStorage.getItem('list')\n  if(list) {\n    return JSON.parse(list)\n  }else {\n    return []\n  }\n}\n\nconst defaultState = {\n  list: getLocalStorage(),\n  isEditing: false,\n  editId: null,\n  alert: {show: false, msg: '', type: ''},\n  areYouSure: false,\n  background: false,\n\n}\n\nfunction App() {\n  const [name, setName] = useState('');\n  const[state, dispatch] = useReducer(reducer, defaultState)\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if(!name) {\n    //  display alert\n      dispatch({type: 'DISPLAY_ALERT'})\n    }\n    if (name && state.isEditing) {\n       // deal with edit\n        state.list = (state.list.map((item) => {\n          if(item.id === state.editId) {\n            return {...item, title: name}\n          }\n          return item\n        }))\n\n      dispatch({type: 'SUBMIT_EDIT'})\n      setName('')\n    }\n\n    if (name && !state.isEditing){\n\n      let  newItem = {id: new Date().getTime().toString(), title: name}\n      dispatch({type: 'ADD_ITEM', payload: newItem})\n     setName(() => {\n       return ''\n     })\n    }\n\n  }\n\n  const removeAlert = () => {\n    dispatch({type: 'HIDE_ALERT'})\n  }\n  const removeItem = (id) => {\n    const filterList = state.list.filter((item) => item.id !== id)\n    dispatch({type: 'REMOVE_ITEM', payload: filterList})\n  }\n  const editItem= (id) => {\n    const editedItem = state.list.find((item) => item.id === id)\n    setName(editedItem.title)\n    const editingId = editedItem.id;\n    console.log(editedItem.title)\n    dispatch({type: 'EDIT_ITEM', payload: editingId})\n  }\n\n\n  useEffect(() => {\n    localStorage.setItem('list',JSON.stringify(state.list))\n  },[state.list])\n\n  return <>\n    {state.alert.show && <Alert {...state.alert} removeAlert={removeAlert} list={state.list}/>}\n    <section className={`${ state.background ? 'section-center backdround': 'section-center'}`}>\n      <form onSubmit={handleSubmit} className=\"grocery-form\">\n        <h3>React Reminder</h3>\n        <div className=\"form-control\">\n          {/*<input type={'text'} className={'grocery'} placeholder={'enter your reminder'}*/}\n          {/*       value={name}*/}\n          {/*       onChange={(e) => setName(e.target.value)}/>*/}\n          <textarea  className={'grocery'} rows=\"6\"  value={name} onChange={(e) => setName(e.target.value)}/>\n          <button type={'submit'} className={'submit-btn'}>{state.isEditing? 'edit': 'submit'}</button>\n        </div>\n      </form>\n      <div className=\"reminder-container\">\n        <List items={state.list} removeItem={removeItem} editItem={editItem} />\n        {/*<button className={'clear-btn'} onClick={clearlist}>clear items</button>*/}\n      </div>\n    </section>\n  </>\n\n}\n\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}